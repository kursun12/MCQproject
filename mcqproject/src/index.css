@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap');

:root {
  font-family: 'Inter', system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;
  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  /* Design tokens */
  --accent-color: #2563eb;
  --text-color: #1f2328;
  --muted-color: #6b7280;
  --bg-gradient-start: #f7f8fa;
  --bg-gradient-end: #eef2f7;
  --card-bg: #ffffff;
  --success: #16a34a;
  --danger: #dc2626;
  --border-color: rgba(148,163,184,.35);
  --bar-bg: rgba(148,163,184,.35);
  --radius: 12px;
  --shadow: 0 10px 30px rgba(2, 6, 23, 0.10);
  --ring: 0 0 0 3px rgba(37,99,235,.25);
}

body {
  margin: 0;
  min-width: 320px;
  min-height: 100vh;
  background: linear-gradient(135deg, var(--bg-gradient-start), var(--bg-gradient-end));
  color: var(--text-color);
  transition: background 0.3s, color 0.3s;
}

body.dark {
  --bg-gradient-start: #0f172a;
  --bg-gradient-end: #111827;
  --text-color: #e5e7eb;
  --muted-color: #94a3b8;
  --card-bg: #111827;
  --accent-color: #60a5fa;
  --border-color: rgba(255,255,255,.18);
  --bar-bg: rgba(255,255,255,.18);
}

button {
  border-radius: var(--radius);
  border: 1px solid var(--border-color);
  padding: 0.6em 1.1em;
  font-size: 0.95rem;
  font-weight: 600;
  font-family: inherit;
  background: var(--accent-color);
  color: white;
  cursor: pointer;
  box-shadow: var(--shadow);
  transition: transform .12s ease, filter .2s ease, box-shadow .2s ease;
}

button:hover {
  filter: brightness(0.98);
  transform: translateY(-1px);
}

button:active {
  transform: translateY(0);
}

/* Small utilities used by App header */
.badge {
  display: inline-block;
  padding: 2px 8px;
  margin-left: .5rem;
  border-radius: 999px;
  background: rgba(99,102,241,.15);
  color: #6366f1;
  font-weight: 600;
  font-size: 12px;
}

.icon-btn {
  border: 1px solid var(--border-color);
  background: transparent;
  color: var(--text-color);
  padding: 6px 10px;
  border-radius: 8px;
}

.bar { height: 8px; background: var(--bar-bg); border-radius: 999px; overflow: hidden; }
.bar > div { height: 100%; background: var(--accent-color); width: 0; transition: width .25s ease; }
.bar.top-progress > div { width: var(--app-progress, 0%); }

/* Cards and content */
.card {
  background: var(--card-bg);
  border: 1px solid var(--border-color);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
}

/* Inputs */
input[type="text"], input[type="number"], input[type="search"], textarea, select {
  border: 1px solid var(--border-color);
  background: var(--card-bg);
  color: var(--text-color);
  border-radius: 10px;
  padding: 10px 12px;
  outline: none;
  transition: box-shadow .2s, border-color .2s;
}
input:focus, textarea:focus, select:focus { box-shadow: var(--ring); border-color: var(--accent-color); }
textarea { min-height: 90px; resize: vertical; }
::placeholder { color: var(--muted-color); opacity: .8; }

/* Muted */
.muted { color: var(--muted-color); }

/* Options styling baseline (enhanced in App.css too) */
.options .option label { display:flex; align-items:center; gap:10px; border-radius: 10px; }
.options .option label:hover { filter: brightness(1.02); }

/* Toolbar & Chips */
.toolbar { display:flex; flex-wrap:wrap; gap:10px; align-items:center; margin-bottom:12px; }
.chips { display:flex; flex-wrap:wrap; gap:6px; }
.chip { padding:4px 10px; border-radius:999px; border:1px solid var(--border-color); background: var(--card-bg); font-size:.85rem; }
.chip.accent { border-color: var(--accent-color); color: var(--accent-color); }

/* Buttons variants */
.btn-ghost { background: transparent; color: var(--text-color); border:1px solid var(--border-color); }
.btn-outline { background: transparent; border:1px solid var(--accent-color); color: var(--accent-color); }
.btn-danger { background: var(--danger); color:#fff; border-color: transparent; }

/* Toggle switch */
.toggle { display:flex; align-items:center; gap:10px; }
.toggle input[type="checkbox"] { appearance: none; width:44px; height:26px; border-radius:999px; border:1px solid rgba(148,163,184,.5); background:#e5e7eb; position:relative; outline:none; transition: background .2s, border-color .2s; }
.toggle input[type="checkbox"]::after { content:''; position:absolute; top:3px; left:3px; width:20px; height:20px; border-radius:50%; background:#fff; box-shadow:0 1px 2px rgba(0,0,0,.2); transition: transform .2s; }
.toggle input[type="checkbox"]:checked { background: var(--accent-color); border-color: var(--accent-color); }
.toggle input[type="checkbox"]:checked::after { transform: translateX(18px); }

/* Grids */
.grid-2 { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
.grid-3 { display:grid; grid-template-columns: repeat(3, 1fr); gap:12px; }

/* Tabs */
.tabs { display:flex; gap:6px; border-bottom:1px solid var(--border-color); margin-bottom:10px; }
.tab { padding:8px 12px; border-radius:10px 10px 0 0; border:1px solid transparent; cursor:pointer; font-weight:600; }
.tab.active { background: var(--card-bg); border-color: var(--border-color); border-bottom-color: transparent; }
.section-title { display:flex; align-items:center; justify-content:space-between; margin:6px 0; }
.badges { display:flex; gap:6px; flex-wrap:wrap; }
.badge-set { background: rgba(37,99,235,.12); color: var(--accent-color); border-radius:999px; padding:2px 8px; font-size:.75rem; }

/* Responsive columns */
.two-col { display:grid; grid-template-columns: 1fr 1fr; gap:12px; }
@media (max-width: 900px){ .two-col { grid-template-columns: 1fr; } }
.toast-wrap{position:fixed;bottom:16px;right:16px;display:flex;flex-direction:column;gap:8px;z-index:50}
.toast{background:var(--card-bg);border:1px solid rgba(148,163,184,.35);box-shadow:var(--shadow);padding:10px 12px;border-radius:8px}

.modal{position:fixed;inset:0;display:none;align-items:center;justify-content:center;background:rgba(0,0,0,.5);z-index:9999}
.modal .box{background:var(--card-bg);color:var(--text-color);padding:16px;border-radius:12px;max-width:min(900px,95vw);width:min(900px,95vw);max-height:90vh;overflow:auto;box-shadow:var(--shadow)}
.modal .box textarea { width: 100%; }
.modal[role="dialog"]{display:flex}

/* Landing */
.hero{ text-align:center; padding: 24px 12px; }
.hero h2{ margin: 0 0 6px; font-size: 1.6rem; }
.hero p{ margin: 0; color: var(--muted-color); }
.menu-grid{ display:grid; grid-template-columns: repeat(3,1fr); gap: 12px; margin-top: 16px; }
@media (max-width: 900px){ .menu-grid{ grid-template-columns: 1fr 1fr; } }
@media (max-width: 560px){ .menu-grid{ grid-template-columns: 1fr; } }
.menu-card{ padding: 14px; border-radius: var(--radius); border:1px solid rgba(148,163,184,.35); background: var(--card-bg); box-shadow: var(--shadow); display:flex; flex-direction:column; gap:8px; align-items:flex-start; transition: transform .12s ease, box-shadow .2s ease; }
.menu-card:hover{ transform: translateY(-2px); box-shadow: 0 16px 40px rgba(2,6,23,.15); }

/* Hero aesthetic */
.hero{
  position: relative;
  overflow:hidden;
  background:
    radial-gradient(120px 80px at 15% 20%, rgba(37,99,235,.12), transparent),
    radial-gradient(180px 120px at 85% 30%, rgba(124,58,237,.12), transparent),
    var(--card-bg);
}

/* Option letter bubble */
.opt-bubble{
  display:inline-flex;align-items:center;justify-content:center;
  width:28px;height:28px;border-radius:50%;
  background: rgba(148,163,184,.25);
  color: var(--text-color);
  font-weight:700;font-size:.9rem;
}
.option.correct .opt-bubble{ background: rgba(22,163,74,.18); color:#16a34a; }
.option.incorrect .opt-bubble{ background: rgba(220,38,38,.18); color:#dc2626; }

/* Dark-specific readability tweaks */
body.dark .option label { border-color: var(--border-color); }
body.dark .option label.selected { background: linear-gradient(180deg, rgba(96,165,250,.12), rgba(96,165,250,.22)); border-color: var(--accent-color); }
body.dark .badge-set { background: rgba(96,165,250,.18); color: var(--accent-color); }
body.dark .menu-card { border-color: var(--border-color); }
body.dark .hero { background:
  radial-gradient(120px 80px at 15% 20%, rgba(96,165,250,.10), transparent),
  radial-gradient(180px 120px at 85% 30%, rgba(167,139,250,.10), transparent),
  var(--card-bg);
}
body.dark a { color: var(--accent-color); }

/* Review item accents */
.status-correct{ border-left: 4px solid var(--success); }
.status-incorrect{ border-left: 4px solid var(--danger); }

/* Keys */
.kbd{ display:inline-block; padding: 2px 6px; border:1px solid rgba(148,163,184,.5); border-bottom-width:2px; border-radius:6px; font-size:.85em; background: var(--card-bg); }
.clamp-2{ display:-webkit-box; -webkit-line-clamp:2; -webkit-box-orient:vertical; overflow:hidden; }

/* Scoreboard pills */
.scoreboard span{ background: var(--card-bg); border:1px solid var(--border-color); padding:4px 8px; border-radius:999px; }

/* Tables: zebra + hover + sticky header under toolbar */
.card table thead th{ position:sticky; top:42px; background:var(--card-bg); z-index:1; }
.card table tbody tr:nth-child(odd){ background: rgba(148,163,184,.10); }
body.dark .card table tbody tr:nth-child(odd){ background: rgba(255,255,255,.04); }
.card table tbody tr:hover{ background: rgba(37,99,235,.08); }

/* Button hovers for outlines/ghosts */
.btn-outline:hover{ background: rgba(37,99,235,.06); }
.btn-ghost:hover{ background: rgba(148,163,184,.12); }

/* Modal textarea aesthetics */
.modal .box textarea{ font-family: ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,"Liberation Mono","Courier New",monospace; line-height:1.4; }

/* Tabs active underline */
.tabs .tab.active{ box-shadow: inset 0 -2px 0 var(--accent-color); }
